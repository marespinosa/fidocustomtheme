(function(a){function g(){e.css("marginBottom",-e.outerHeight()+e.scrollTop())}var c=a("body"),e=a("#tri-header"),h=0;0===a(window).scrollTop()&&c.addClass("scroll-near-top");a(window).scroll(function(b){b=a(this).scrollTop();b>h?c.addClass("scroll-down").removeClass("scroll-up"):c.addClass("scroll-up").removeClass("scroll-down");0===b?c.addClass("scroll-at-top"):50>b?c.addClass("scroll-near-top"):c.removeClass("scroll-near-top");c.height()<a(window).height()+b+50?c.addClass("scroll-near-bottom"):
c.removeClass("scroll-near-bottom");h=b});c.hasClass("header-on-top")&&(g(),a(window).on("resize orientationChanged load",function(){window.requestAnimationFrame(g)}));a("#tri-menu .menu-item-has-children:not(.tri-mm)").on("mouseenter mouseleave",function(){var b=a("ul:first",this);b.offset().left+b.width()>c.width()?b.addClass("on-edge"):b.removeClass("on-edge")});a("#menu-search").click(function(b){b.preventDefault();a("#menu-search-form").toggleClass("d-none").find("input.search-field").focus()});
a(document).mouseup(function(b){var f=a(".menu-item-search");f.is(b.target)||0!==f.has(b.target).length||a("#menu-search-form").addClass("d-none")});a("#mobile-menu-toggle, .mobile-menu-active #tri-menu a, #site-overlay").click(function(a){c.toggleClass("mobile-menu-active")});768>a(window).width()&&(a("#tri-menu li").each(function(b,f){var c=a(this);c.hasClass("menu-item-has-children")&&(c.append('<button class="submenu-toggle" aria-label="Toggle sub-menu"></button>'),c.find(".sub-menu").hide())}),
a("#tri-menu").on("click",".submenu-toggle",function(b){b.preventDefault();a(this).prev(".sub-menu").toggle(300)}));a(".js-open-window").click(function(b){b.preventDefault();b=a(this).attr("href");window.open(b,"","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=450, top="+(screen.height/2-225)+", left="+(screen.width/2-300))});a().magnificPopup&&(a(".is-popup-gallery, .wp-block-gallery").magnificPopup({delegate:"a",type:"image",
gallery:{enabled:!0}}),a(".is-popup-link").click(function(b){a.magnificPopup.open({items:{src:a(this).is("a")?a(this).attr("href"):a(this).find("a").attr("href")},type:"inline",midClick:!0,removalDelay:300,mainClass:"mfp-fade"})}),a(".is-popup-media").magnificPopup({disableOn:700,type:"iframe",removalDelay:300,fixedContentPos:!1}),a(".image-popup").magnificPopup({type:"image",closeOnContentClick:!0}));a(".js-scroll, .js-menu-scroll a").click(function(b){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,
"")&&location.hostname==this.hostname){var c=a(this.hash),d=0;c=c.length?c:a("[name="+this.hash.slice(1)+"]");c.length&&(a(this).data("offset")&&(d=a(this).data("offset")),a("#wpadminbar").length&&(d+=a("#wpadminbar").outerHeight()),b.preventDefault(),a("html, body").animate({scrollTop:c.offset().top-d},1E3,function(){a(c).attr("tabindex","-1")}))}});a.fn.viewportChecker=function(){var b=this,c=a(window).height();this.checkElements=function(){var d=Math.max(a("html").scrollTop(),a("body").scrollTop(),
a(window).scrollTop()),e=d+c;b.each(function(){var b=a(this),c=Math.round(b.offset().top)+100,f=c+b.height();c<e&&f>d&&b.addClass("has-animated").removeClass("show-on-scroll")})};("ontouchstart"in window||"onmsgesturechange"in window)&&a(document).bind("touchmove MSPointerMove pointermove",this.checkElements);a(window).bind("load scroll",this.checkElements);a(window).resize(function(d){c=a(window).height();b.checkElements()});this.checkElements();return this};a(".show-on-scroll").viewportChecker()})(jQuery);